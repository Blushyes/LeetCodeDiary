# 猜数字大小

## 原题链接

[374. 猜数字大小 - 力扣（LeetCode）](https://leetcode.cn/problems/guess-number-higher-or-lower/)

## 题解

~~~java
public class Solution extends GuessGame {
    public int guessNumber(int n) {
        int l = 0, r = n;
        while(l <= r){
            int mid = l + (r - l) / 2;
            int g = guess(mid);
            if(g == 0){
                return mid;
            }else if(g < 0){
                r = mid - 1;
            }else{
                l = mid + 1;
            }
        }
        return 0;
    }
}
~~~

~~~java
public class Solution extends GuessGame {
    public int guessNumber(int n) {
        int l = 0, r = n;
        while(l < r){
            int mid = l + (r - l) / 2;
            if(guess(mid) <= 0){
                r = mid;
            }else{
                l = mid + 1;
            }
        }
        return l;
    }
}
~~~

注意，由于l + (r - l) / 2是向下取整，所以若要用第二种方法，则应该尽量避免将区间向前缩小，而是尽量向后扩大，要把省去的小数部分也包括起来。

如这样写的话是通过不了的：

~~~java
int mid = l + (r - l) / 2;
if(guess(mid) < 0){
	r = mid - 1;
}else{
    l = mid;
}
~~~

举个例子：

> l = 0, r = 10
>
> 6 >= mid = 5
>
> l = 5, r =10
>
> 6 < mid = 7
>
> l = 5, r =7 - 1 = 6
>
> 6 >= mid = 5
>
> l = 5, r = 6
>
> 6 >= mid = 5
>
> l = 5, r = 6
>
> ......

**总结：能用l <= r就用，能用第一种解法就用。**