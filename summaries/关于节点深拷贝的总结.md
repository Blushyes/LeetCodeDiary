# 关于节点深拷贝的总结

## 步骤

1. **创建一个Map**来记录节点拷贝状态——是否已经被拷贝
2. 如果**需要拷贝的是一个空节点，则直接返回一个空节点**即可
3. 如果**Map中对应节点的拷贝已经完成，则直接返回该节点的拷贝**（防止重复拷贝）
4. 若以上情况均没有出现，则**开始拷贝节点**
5. 注意拷贝节点时可能需要递归拷贝节点的某些属性，如[复制带随机指针的链表](../notes/medium/复制带随机指针的链表.md)中节点的next和random，以及[克隆图](../notes/medium/克隆图.md)中的邻接表

## 简化

1. **是否为空值**
2. **是否已经拷贝**
3. **拷贝（注意递归拷贝某些属性）**

## 技巧

如果是**拷贝链表**，还可以用以下方法：

我们**令*A*′为*A*的拷贝节点**，则原来为：`A→B→C`

我们**只需要构造一个这样的链表**即可：`A→A′→B→B′→C→C′`

这样做的好处是，我们能够很轻易的知道拷贝后的节点为`node.next`，而拷贝后的节点的`next`则为`node.next.next`则**不需要用哈希表存储**，节省了空间。